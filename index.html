<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Bluetooth Rocks! — Racer</title>

		<link rel="stylesheet" href="css/common.css">
		<link rel="stylesheet" href="/css/index.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="index.js"></script>
		<script type="text/javascript" src="demo.js"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="theme-color" content="#8cc63f">
	</head>
		<body class="control">
			<div class="connect">
				<h1>
					<p>Bluetooth</p>
				</h1>
				<p>
					To use this. You need a LEGO RC Tracked Racer with SBrick. Don't have one? <a id="emulate">Emulate!</a>
				</p>
					<button id="connect">Connect</button>
			</div>
			<div>
				<h1 class="title">RC-Racers</h1>
			</div>
			<div class="grid">
				<div class="scoreboard">
					<h2 id="counter">Count: 0</h2>
					<div class="buttons">
						<button id="startbutton">Start counter!</button>
						<button id="stopbutton" onClick="clearInterval(myTimer)">Stop counter!</button>
						<button id="resetbutton">Reset</button>
					</div>
				</div>
				<!-- <iframe class="video" src="http://192.168.1.10:8888" frameborder="0" width="1000" scrolling="no" height="400" onload="resizeIframe(this)"></iframe> -->
				<div class="wrapper">
					<!-- <form id="connection-information-form">
					   <b>Hostname or IP Address:</b> 
					   <input id="host" type="text" name="host" value="mqtt.devbit.be"><br>
					   <b>Port:</b>
					   <input id="port" type="text" name="port" value="80"><br>
					   <b>Topic:</b>
					   <input id="topic" type="text" name="topic" value="projectweek2021"><br><br>
					   
					   <input type="button" onclick="startConnect()" value="Connect">
					   <input type="button" onclick="startDisconnect()" value="Disconnect">
					</form> -->
					<input type="button" onclick="startConnect()" value="Connect">
					<div id="messages"></div>
					<!-- the messages box is to show the terminal data from mqtt such as, are you connected and the raw data that enters. -->
					<div id="checkpoint1"></div>
					<div id="checkpoint2"></div>
				 </div>

			</div>
		<div id="myModal" class="modal">
			<!-- Modal content -->
			<div class="modal-content">
				<span class="close">&times;</span>
				<h4><a id="modaltext">some text in the modal...</a></h4>
			</div>
		</div>
	
		<div class="settings">
			<div class="pills">
				<h2 class="controls">Controls</h2>
				<button id="control">Control</button>
				<button class="custom" id="customize">Customize</button>
			</div>
		
			<div class="views">
				<div id="controlView">
					<div id="controls">
						<button id="button-forward" data-down="forward" data-up="stop">▲&#xFE0E;</button>
						<button id="button-left" data-down="left" data-up="stop">◀&#xFE0E;</button>
						<button id="button-right" data-down="right" data-up="stop">▶&#xFE0E;</button>
						<button id="button-reverse" data-down="reverse" data-up="stop">▼&#xFE0E;</button>
					</div>
				</div>
				
				<div id="customizeView">
					<style>
						
						:root {
							--direction: 'stop';
						}
						
						#car {
							content: var(--direction);
						}
						
					</style>			
			
					<style id="style" contenteditable="plaintext-only">
	@keyframes track {
	  0%  { --direction: 'left'; }
	  10% { --direction: 'right'; }
	  20% { --direction: 'left'; }
	  30% { --direction: 'right'; }
	  40% { --direction: 'left'; }
	  50% { --direction: 'right'; }
	  58% { --direction: 'forward'; }
	  59% { --direction: 'reverse'; }
	  60% { --direction: 'left'; }
	  69% { --direction: 'forward'; }
	  70% { --direction: 'left'; }
	  79% { --direction: 'forward'; }
	  80% { --direction: 'left'; }
	  89% { --direction: 'forward'; }
	  90% { --direction: 'left'; }
	  99% { --direction: 'forward'; }
	}
	
	#car {
	  animation: -track 10s infinite;
	  animation-delay: 2s;
	  animation-fill-mode: forwards;
	}
				</style>			
			</div>			
		</div>
		<script>
			function resizeIframe(obj) {
			  obj.style.height = obj.contentWindow.document.documentElement.scrollHeight + 'px';
			}
		</script>
		<script type="text/javascript" src="lib/promise-queue.js"></script>
		<script type="text/javascript" src="lib/bluetooth.js"></script>
		<script type="text/javascript" src="lib/sbrick.js"></script>
		<script type="text/javascript" src="lib/gamepad.js"></script>
		<script type="text/javascript" src="index.js"></script>
	</body>
</html>